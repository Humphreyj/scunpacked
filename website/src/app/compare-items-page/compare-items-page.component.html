<div class="container-fluid mt-3">

  <table>
    <tr *ngFor="let f of fields; index as fIndex">
      <td (click)=sortBy(f)>{{f.title}}</td>
      <td [class]="f.compareClass(items,i)" [class.font-weight-bold]="fIndex == 0" *ngFor="let i of items; index as iIndex">
        <div class="d-flex flex-nowrap">
          <ng-container *ngIf="!f.linkFn && f.compareFn">
            <div style="flex: 1 1 0; margin-right: 5px;" class="text-right">{{f.formattedValue(i)}}</div>
            <div style="flex: 1 1 0;" class="text-right">
              <small [class]="f.compareClass(items, i)" *ngIf="f.compareFn">{{f.formattedCompareValue(items, i)}}</small>
            </div>
          </ng-container>
          <div *ngIf="!f.linkFn && !f.compareFn">
            {{f.formattedValue(i)}}
          </div>
          <div style="border-bottom: 1px solid black; width: 100%;" *ngIf="f.linkFn">
            <a [href]="f.linkFn(i)">{{f.formattedValue(i)}}</a>
          </div>
        </div>
      </td>
    </tr>
  </table>

</div>
